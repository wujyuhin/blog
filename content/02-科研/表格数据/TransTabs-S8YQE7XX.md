---
tags: []
parent: 'TransTab: Learning Transferable Tabular Transformers Across Tables'
collections:
    - 表格数据
version: 0
libraryID: 1
itemKey: S8YQE7XX
$version: 0
$libraryID: 1
$itemKey: S8YQE7XX

---
TransTabs

ml建模需要大量数据清洗合并不同列不同表

结果：数据浪费

思考： 1.如何从多个列部分重叠表中训练模型 2.如何增量更新ml模型 3.如何在多个不同表上用模型与训练 4.如何训练一个ml模型，在一个未见过的数据上预测？

方法：引入Trans Tabs调整表格结构：就是将每一行转化为泛化embedding，然后应用多层transforemers进行encoding

一种方法论的见解是将**列描述和表单元格结合起来**作为门控变压器模型的原始输入。 另一种观点是引入**有监督和自监督预训练**来提高模型性能。 我们在不同的基准数据集和 5 个肿瘤临床试验数据集上与多种基线方法进行了比较。 总体而言，Trans Tab 在监督学习、特征增量学习和迁移学习的 12 种方法中排名分别为 1.00、1.00、1.78

# Introduction

传统 ml 需要表格结构一致，但是现实有很多表格有共享的列，也有不同的列，因此不适用。需要做大量删除合并 做非删除的合并工作需要重新思考元素：列被映射到唯一的索引，然后模型取单元值进行训练和推理。这种建模方式的前提是在所有表中保持相同的列结构。但是，表格通常有不同的协议，其中列和单元格的命名不同。 相比之下，我们提出的工作将**列和单元格场景化**。例如，以前的方法通过参考码本{男：0，女：1 }来表示列性别下的单元格值的男人。我们的模型将表格输入转化为序列输入 (例如, 性别就是男人)，可以用下游序列模型进行建模。我们认为这样的特征化协议可以在不同的表中通用，从而使模型可以适用于不同的表

Trans Tab 的关键贡献是：·一个同时考虑列和单元格语义的系统化特征化管道，它是跨表共享的基本协议；·垂直划分对比学习 ( VPCL )，它可以在多个表上进行预训练，也可以在目标数据集上进行微调 ![](Pasted%20image%2020240308112022.png)

# method

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FF4ZRCHUS%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22rects%22%3A%5B%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FHSFYB4S6%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/F4ZRCHUS?page=NaN">“In this section, we present the details of TransTab. Fig. 2 illustrates its workflow including the following key components: 1) The input processor featurizes and embeds arbitrary tabular inputs to token-level embeddings; 2) The stacked gated transformer layers further encode the token-level embeddings; 3) Finally, the learning module includes a classifier trained on labeled data and a projector for contrastive learning. Next we will present the details of each component”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FHSFYB4S6%22%5D%2C%22itemData%22%3A%7B%22id%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FHSFYB4S6%22%2C%22type%22%3A%22article%22%2C%22abstract%22%3A%22Tabular%20data%20(or%20tables)%20are%20the%20most%20widely%20used%20data%20format%20in%20machine%20learning%20(ML).%20However%2C%20ML%20models%20often%20assume%20the%20table%20structure%20keeps%20%EF%AC%81xed%20in%20training%20and%20testing.%20Before%20ML%20modeling%2C%20heavy%20data%20cleaning%20is%20required%20to%20merge%20disparate%20tables%20with%20different%20columns.%20This%20preprocessing%20often%20incurs%20signi%EF%AC%81cant%20data%20waste%20(e.g.%2C%20removing%20unmatched%20columns%20and%20samples).%20How%20to%20learn%20ML%20models%20from%20multiple%20tables%20with%20partially%20overlapping%20columns%3F%20How%20to%20incrementally%20update%20ML%20models%20as%20more%20columns%20become%20available%20over%20time%3F%20Can%20we%20leverage%20model%20pretraining%20on%20multiple%20distinct%20tables%3F%20How%20to%20train%20an%20ML%20model%20which%20can%20predict%20on%20an%20unseen%20table%3F%20To%20answer%20all%20those%20questions%2C%20we%20propose%20to%20relax%20%EF%AC%81xed%20table%20structures%20by%20introducing%20a%20Transferable%20Tabular%20Transformer%20(TransTab)%20for%20tables.%20The%20goal%20of%20TransTab%20is%20to%20convert%20each%20sample%20(a%20row%20in%20the%20table)%20to%20a%20generalizable%20embedding%20vector%2C%20and%20then%20apply%20stacked%20transformers%20for%20feature%20encoding.%20One%20methodology%20insight%20is%20combining%20column%20description%20and%20table%20cells%20as%20the%20raw%20input%20to%20a%20gated%20transformer%20model.%20The%20other%20insight%20is%20to%20introduce%20supervised%20and%20self-supervised%20pretraining%20to%20improve%20model%20performance.%20We%20compare%20TransTab%20with%20multiple%20baseline%20methods%20on%20diverse%20benchmark%20datasets%20and%20%EF%AC%81ve%20oncology%20clinical%20trial%20datasets.%20Overall%2C%20TransTab%20ranks%201.00%2C%201.00%2C%201.78%20out%20of%2012%20methods%20in%20supervised%20learning%2C%20feature%20incremental%20learning%2C%20and%20transfer%20learning%20scenarios%2C%20respectively%3B%20and%20the%20proposed%20pretraining%20leads%20to%202.3%25%20AUC%20lift%20on%20average%20over%20the%20supervised%20learning.%22%2C%22language%22%3A%22en%22%2C%22note%22%3A%22arXiv%3A2205.09328%20%5Bcs%5D%22%2C%22number%22%3A%22arXiv%3A2205.09328%22%2C%22publisher%22%3A%22arXiv%22%2C%22source%22%3A%22arXiv.org%22%2C%22title%22%3A%22TransTab%3A%20Learning%20Transferable%20Tabular%20Transformers%20Across%20Tables%22%2C%22title-short%22%3A%22TransTab%22%2C%22URL%22%3A%22http%3A%2F%2Farxiv.org%2Fabs%2F2205.09328%22%2C%22author%22%3A%5B%7B%22family%22%3A%22Wang%22%2C%22given%22%3A%22Zifeng%22%7D%2C%7B%22family%22%3A%22Sun%22%2C%22given%22%3A%22Jimeng%22%7D%5D%2C%22accessed%22%3A%7B%22date-parts%22%3A%5B%5B%222024%22%2C3%2C1%5D%5D%7D%2C%22issued%22%3A%7B%22date-parts%22%3A%5B%5B%222022%22%2C9%2C16%5D%5D%7D%7D%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/HSFYB4S6"><a href="zotero://select/library/items/HSFYB4S6">Wang 和 Sun, 2022</a></a></span>)</span> 本节将详细介绍Trans Tab .图2展示了其工作流程，包括以下几个关键部分：1 )输入处理器将任意表格输入特征化并嵌入到令牌级嵌入中；2 )堆叠的门控变压器层进一步编码令牌级嵌入；3 )最后，学习模块包括一个在标记数据上训练的分类器和一个用于对比学习的投影仪。接下来我们将介绍每个组件的详细信息

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FF4ZRCHUS%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22rects%22%3A%5B%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FHSFYB4S6%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/F4ZRCHUS?page=NaN">“2.1 Application scenarios of TransTab Before presenting our method in details, we first introduce four novel applications scenarios which are tractable by TransTab, as shown in Fig. 1. Suppose we aim to predict the treatment efficacy for breast cancer trials using multiple clinical trial tables, here are several scenarios we often encounter. S(1) Transfer learning. We collect data tables from multiple cancer trials for testing the efficacy of the same drug on different patients. These tables were designed independently with overlapping columns. How do we learn ML models for one trial by leveraging tables from all trials? S(2) Incremental learning. Additional columns might be added over time. For example, additional features are collected across different trial phases. How do we update the ML models using tables from all trial phases?”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FHSFYB4S6%22%5D%2C%22itemData%22%3A%7B%22id%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FYaQY4OXl%2Fitems%2FHSFYB4S6%22%2C%22type%22%3A%22article%22%2C%22abstract%22%3A%22Tabular%20data%20(or%20tables)%20are%20the%20most%20widely%20used%20data%20format%20in%20machine%20learning%20(ML).%20However%2C%20ML%20models%20often%20assume%20the%20table%20structure%20keeps%20%EF%AC%81xed%20in%20training%20and%20testing.%20Before%20ML%20modeling%2C%20heavy%20data%20cleaning%20is%20required%20to%20merge%20disparate%20tables%20with%20different%20columns.%20This%20preprocessing%20often%20incurs%20signi%EF%AC%81cant%20data%20waste%20(e.g.%2C%20removing%20unmatched%20columns%20and%20samples).%20How%20to%20learn%20ML%20models%20from%20multiple%20tables%20with%20partially%20overlapping%20columns%3F%20How%20to%20incrementally%20update%20ML%20models%20as%20more%20columns%20become%20available%20over%20time%3F%20Can%20we%20leverage%20model%20pretraining%20on%20multiple%20distinct%20tables%3F%20How%20to%20train%20an%20ML%20model%20which%20can%20predict%20on%20an%20unseen%20table%3F%20To%20answer%20all%20those%20questions%2C%20we%20propose%20to%20relax%20%EF%AC%81xed%20table%20structures%20by%20introducing%20a%20Transferable%20Tabular%20Transformer%20(TransTab)%20for%20tables.%20The%20goal%20of%20TransTab%20is%20to%20convert%20each%20sample%20(a%20row%20in%20the%20table)%20to%20a%20generalizable%20embedding%20vector%2C%20and%20then%20apply%20stacked%20transformers%20for%20feature%20encoding.%20One%20methodology%20insight%20is%20combining%20column%20description%20and%20table%20cells%20as%20the%20raw%20input%20to%20a%20gated%20transformer%20model.%20The%20other%20insight%20is%20to%20introduce%20supervised%20and%20self-supervised%20pretraining%20to%20improve%20model%20performance.%20We%20compare%20TransTab%20with%20multiple%20baseline%20methods%20on%20diverse%20benchmark%20datasets%20and%20%EF%AC%81ve%20oncology%20clinical%20trial%20datasets.%20Overall%2C%20TransTab%20ranks%201.00%2C%201.00%2C%201.78%20out%20of%2012%20methods%20in%20supervised%20learning%2C%20feature%20incremental%20learning%2C%20and%20transfer%20learning%20scenarios%2C%20respectively%3B%20and%20the%20proposed%20pretraining%20leads%20to%202.3%25%20AUC%20lift%20on%20average%20over%20the%20supervised%20learning.%22%2C%22language%22%3A%22en%22%2C%22note%22%3A%22arXiv%3A2205.09328%20%5Bcs%5D%22%2C%22number%22%3A%22arXiv%3A2205.09328%22%2C%22publisher%22%3A%22arXiv%22%2C%22source%22%3A%22arXiv.org%22%2C%22title%22%3A%22TransTab%3A%20Learning%20Transferable%20Tabular%20Transformers%20Across%20Tables%22%2C%22title-short%22%3A%22TransTab%22%2C%22URL%22%3A%22http%3A%2F%2Farxiv.org%2Fabs%2F2205.09328%22%2C%22author%22%3A%5B%7B%22family%22%3A%22Wang%22%2C%22given%22%3A%22Zifeng%22%7D%2C%7B%22family%22%3A%22Sun%22%2C%22given%22%3A%22Jimeng%22%7D%5D%2C%22accessed%22%3A%7B%22date-parts%22%3A%5B%5B%222024%22%2C3%2C1%5D%5D%7D%2C%22issued%22%3A%7B%22date-parts%22%3A%5B%5B%222022%22%2C9%2C16%5D%5D%7D%7D%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/HSFYB4S6"><a href="zotero://select/library/items/HSFYB4S6">Wang 和 Sun, 2022</a></a></span>)</span> 2 . 1 Trans Tab的应用场景在详细介绍本文方法之前，首先介绍Trans Tab可处理的4种新颖应用场景，如图1所示。假设我们的目标是使用多个临床试验表来预测乳腺癌试验的治疗效果，这里有几种我们经常遇到的场景。S ( 1 )迁移学习。我们从多个癌症试验中收集数据表，用于测试同一药物对不同患者的疗效。这些表格是独立设计的，具有重叠的列。我们如何利用来自所有试验的表格来学习一个试验的ML模型? S ( 2 )增量学习。随着时间的推移，可能会增加额外的列。例如，在不同的试验阶段收集额外的特征。我们该如何更新
